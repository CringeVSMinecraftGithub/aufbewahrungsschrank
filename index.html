<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>AufbewahrungsschrÃ¤nke</title>

    <!-- Mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <link rel="stylesheet" href="style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

<header>
    <h1>ğŸ“¦ AufbewahrungsschrÃ¤nke</h1>
    <button id="shopping-btn" class="shopping-btn" title="Einkaufsliste">
    ğŸ›’
</button>

</header>

<main>

<!-- =======================
     PRODUKT FORMULAR
======================= -->
<section id="product-form">
    <h2>Produkt hinzufÃ¼gen</h2>

    <input type="text" id="name" placeholder="Produktname">

    <select id="storage">
        <option value="schrank">ğŸ—„ï¸ Aufbewahrungsschrank</option>
        <option value="tk">â„ï¸ TiefkÃ¼hltruhe</option>
        <option value="keller">ğŸ  Kellerschrank</option>
    </select>

    <select id="category"></select>

    <button type="button" id="add-category-btn">
        â• Kategorie hinzufÃ¼gen / bearbeiten
    </button>

    <select id="fach"></select>

    <input type="date" id="expiry">

    <button onclick="addProduct()">â• Produkt hinzufÃ¼gen</button>
</section>

<!-- =======================
     SUCHE
======================= -->
<div class="search-wrapper">
    <input type="text" id="search-input" placeholder="ğŸ” Produkt suchen...">
</div>

<!-- =======================
     STATISTIK (DESKTOP)
======================= -->
<section id="statistics">
    <h2 class="stats-title" onclick="openStatsModal()">
        ğŸ“Š Statistik
    </h2>
</section>

<!-- =======================
     FÃ„CHER
======================= -->
<section id="faecher">

    <!-- SCHRANK -->
    <h2>ğŸ“¦ Vorratsschrank</h2>

    <div class="fach expired-fach" id="fach-0"><h3>ğŸ“¦ Abgelaufen</h3></div>
    <div class="fach" id="fach-1"><h3>Fach 1</h3></div>
    <div class="fach" id="fach-2"><h3>Fach 2</h3></div>
    <div class="fach" id="fach-3"><h3>Fach 3</h3></div>
    <div class="fach" id="fach-4"><h3>Fach 4</h3></div>

    <!-- TK -->
    <h2>â„ï¸ TiefkÃ¼hltruhe</h2>

    <div class="fach expired-fach" id="tk-fach-0"><h3>ğŸ“¦ Abgelaufen</h3></div>
    <div class="fach" id="tk-fach-1"><h3>TiefkÃ¼hltruhe 1</h3></div>
    <div class="fach" id="tk-fach-2"><h3>TiefkÃ¼hltruhe 2</h3></div>
    <div class="fach" id="tk-fach-3"><h3>TiefkÃ¼hltruhe 3</h3></div>

    <!-- KELLER -->
    <h2>ğŸ  Kellerschrank</h2>

    <div class="fach expired-fach" id="keller-fach-0"><h3>ğŸ“¦ Abgelaufen</h3></div>
    <div class="fach" id="keller-fach-1"><h3>Kellerfach 1</h3></div>
    <div class="fach" id="keller-fach-2"><h3>Kellerfach 2</h3></div>
    <div class="fach" id="keller-fach-3"><h3>Kellerfach 3</h3></div>
    <div class="fach" id="keller-fach-4"><h3>Kellerfach 4</h3></div>

</section>

</main>

<!-- =======================
     STATISTIK MODAL (MOBIL)
======================= -->
<!-- ğŸ“Š Statistik Modal -->
<div id="stats-modal" class="modal hidden">
    <div class="modal-content">
        <h3>ğŸ“Š Statistik</h3>

        <div class="stats-grid">
            <div class="stat-card" id="stats-schrank-modal"></div>
            <div class="stat-card" id="stats-tk-modal"></div>
            <div class="stat-card" id="stats-keller-modal"></div>
        </div>

        <div class="modal-actions">
            <button class="secondary" onclick="closeStatsModal()">
                SchlieÃŸen
            </button>
        </div>
    </div>
</div>


<!-- =======================
     KATEGORIE MODAL
======================= -->
<div id="category-modal" class="modal hidden">
    <div class="modal-content">
        <h3>ğŸ“‚ Kategorien verwalten</h3>
        <div id="category-list"></div>

        <input id="new-category-input" placeholder="Neue Kategorie">

        <div class="modal-actions">
            <button class="secondary" onclick="closeCategoryModal()">SchlieÃŸen</button>
            <button class="primary" onclick="addNewCategory()">HinzufÃ¼gen</button>
        </div>
    </div>
</div>

<!-- =======================
     EDIT MODAL
======================= -->
<div id="edit-modal" class="modal hidden">
    <div class="modal-content">
        <h3>âœï¸ Produkt bearbeiten</h3>

        <label>Produktname</label>
        <input id="edit-name">

        <label>Anzahl</label>
        <input type="number" id="edit-quantity" min="1">

        <label>Kategorie</label>
        <select id="edit-category"></select>

        <label>Fachnummer</label>
        <select id="edit-fach"></select>

        <label>Haltbarkeitsdatum</label>
        <input type="date" id="edit-expiry">

        <div class="modal-actions">
            <button class="secondary" onclick="closeEditModal()">Abbrechen</button>
            <button class="primary" onclick="saveEdit()">Speichern</button>
        </div>
    </div>
</div>

<!-- =======================
     INFO MODAL
======================= -->
<div id="info-modal" class="modal hidden">
    <div class="modal-content info-popup">
        <h3 id="info-name"></h3>

        <div class="info-row">
            ğŸ·ï¸ <span id="info-category"></span>
        </div>

        <div class="info-row quantity-row">
            ğŸ“¦
            <button class="qty-btn" onclick="changeInfoQuantity(-1)">âˆ’</button>
            <span id="info-quantity">1</span>
            <button class="qty-btn" onclick="changeInfoQuantity(1)">+</button>
        </div>

        <div class="info-row">
            ğŸ“… <span id="info-expiry"></span>
        </div>

        <div class="modal-actions">
            <button class="primary" onclick="saveInfoQuantity()">ğŸ’¾ Speichern</button>
            <button class="secondary" onclick="closeInfoModal()">âœ– SchlieÃŸen</button>
        </div>
    </div>
</div>

<!-- =======================
     TOAST
======================= -->
<div id="toast" class="toast hidden"></div>

<script src="app.js"></script>
</body>
</html>
